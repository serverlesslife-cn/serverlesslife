<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>说说 Ruby 与 Serverless - ServerlessLife</title><meta name=Description content><meta property="og:title" content="说说 Ruby 与 Serverless"><meta property="og:description" content="你所知道的那些 Faas 平台都支持 Ruby 了吗？"><meta property="og:type" content="article"><meta property="og:url" content="https://serverlesslife.cn/posts/2021-01-18-ruby-and-serverless/"><meta property="article:published_time" content="2021-01-18T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-18T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="说说 Ruby 与 Serverless"><meta name=twitter:description content="你所知道的那些 Faas 平台都支持 Ruby 了吗？"><meta name=application-name content="ServerlessLife"><meta name=apple-mobile-web-app-title content="ServerlessLife"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://serverlesslife.cn/posts/2021-01-18-ruby-and-serverless/><link rel=prev href=https://serverlesslife.cn/posts/2021-01-11-use-vpc-or-not/><link rel=next href=https://serverlesslife.cn/posts/2021-01-26-the-pros-and-cons-of-azure-functions/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"说说 Ruby 与 Serverless","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/serverlesslife.cn\/posts\/2021-01-18-ruby-and-serverless\/"},"genre":"posts","keywords":"ruby, serverless","wordcount":1817,"url":"https:\/\/serverlesslife.cn\/posts\/2021-01-18-ruby-and-serverless\/","datePublished":"2021-01-18T00:00:00+00:00","dateModified":"2021-01-18T00:00:00+00:00","publisher":{"@type":"Organization","name":"donghui"},"author":{"@type":"Person","name":"donghui"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':(''==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:''==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=ServerlessLife>ServerlessLife</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=ServerlessLife>ServerlessLife</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>文章</a><a class=menu-item href=/tags/>标签</a><a class=menu-item href=/about/>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">说说 Ruby 与 Serverless</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>donghui</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-01-18>2021-01-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 1817 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 4 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#引言>引言</a></li><li><a href=#ruby-简介>Ruby 简介</a></li><li><a href=#有哪些流行的项目是用-ruby-开发的>有哪些流行的项目是用 Ruby 开发的？</a></li><li><a href=#ruby-serverless-框架jets>Ruby Serverless 框架——Jets</a></li><li><a href=#哪些-serverless-faas-平台支持-ruby>哪些 Serverless Faas 平台支持 Ruby？</a></li><li><a href=#总结>总结</a></li><li><a href=#参考>参考</a></li></ul></nav></div></div><div class=content id=content><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-cover.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-cover.png, /images/2021-01-18-ruby-and-serverless/ruby-cover.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-cover.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-cover.png title=ruby></p><h2 id=引言>引言</h2><p>最近查阅 Serverless 相关资讯，注意到一个 Ruby Serverless 框架——Jets。</p><p>心中便有一些疑问：为什么会有这个项目？它是用来做什么的？作为一门小众语言，有哪些 Serverlss 平台支持了 Ruby 语言？</p><p>既然有这么多疑问，于是就想理一理 Ruby 与 Serverless 之间的关系，便开始书写此文。</p><h2 id=ruby-简介>Ruby 简介</h2><p>Ruby，它由日本的松本行弘于1993年创立，它的 logo 是一颗闪亮、美丽的红宝石。</p><p>最近关于 Ruby 的最大新闻是：2020年12月25日，Ruby 3.0.0 正式发布。
Ruby 3.0.0 的目标是更高的性能、并发性和更安全的类型。尤其是在性能上，松本行弘表示「Ruby 3 会比 Ruby 2 快 3 倍」。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-3-news.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-3-news.png, /images/2021-01-18-ruby-and-serverless/ruby-3-news.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-3-news.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-3-news.png title=ruby-3-news></p><h2 id=有哪些流行的项目是用-ruby-开发的>有哪些流行的项目是用 Ruby 开发的？</h2><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-apps.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-apps.png, /images/2021-01-18-ruby-and-serverless/ruby-apps.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-apps.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-apps.png title=ruby-apps></p><p>有哪些流行的项目是用 Ruby 开发的呢？这里首先要提的是全球著名的代码社交平台 Github，它是开源项目的沃土。</p><p>GitHub 最初就是使用 Ruby on Rails 构建的，它是 Ruby 社区创建的一个项目，Github 的流行 Ruby 社区功不可没。</p><p>值得一提的是，近些年，开发者在找工作时，有时 GitHub 开源项目经历也成了一个加分项。</p><p>类似的，作为 GitHub 的开源替代产品，Gitlab 支持私有化部署，它也是使用 Ruby on Rails 构建的。</p><p>如果要在内网搭建代码管理平台，GitLab 绝对是首选；曾经工作过的公司代码管理平台无一例外都是使用 GitLab 搭建的。</p><p>比较流行的 CI 服务，Travis CI 也是由 Ruby 开发的，它是一个托管的 CI 服务平台，与 GitHub 紧密集成。</p><p>使用过 GitHub 的开发者应该知道它，如果你在 GitHub 上有开源项目，就可以免费使用 Travis CI 构建自己的 CI 流水线。</p><p>Jekyll 是一个简单的博客形态的静态站点生成器，它也是使用 Ruby 开发的。使用 GitHub Pages + Jekyll，可以轻而易举地在 GitHub 上免费发布网站。</p><p>当然还有很多使用 Ruby 开发的项目，一些 Ruby 开发的其他服务或应用，可以参考：
<code>https://github.com/markets/awesome-ruby#services-and-apps</code></p><h2 id=ruby-serverless-框架jets>Ruby Serverless 框架——Jets</h2><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-jets.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-jets.png, /images/2021-01-18-ruby-and-serverless/ruby-jets.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-jets.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-jets.png title=ruby-jets></p><p>Jets 是一个 Ruby serverless 框架，可以让你轻松创建和部署服务。</p><p>它包括了构建 API 并将其部署到 AWS Lambda 所需要的一切。</p><p>Jets 也非常适合编写将 AWS 服务和资源粘合在一起的函数。</p><p>Jets 是一个脚手架，你只需要专注编写代码，Jets 会将代码转换为 Lambda 函数和其他 AWS 资源（如：API Gateway、S3、DynamoDB）。</p><p>AWS Lambda 支持许多事件触发器，下面是 Jets 支持的事件列表：</p><ul><li>CloudWatch Log Events</li><li>CloudWatch Rule Events</li><li>DynamoDB Events</li><li>IoT Events</li><li>Kinesis Events</li><li>S3 Events</li><li>SNS Events</li><li>SQS Events
Jets 可以构建许多体系结构。下面是传统的 Web 架构示例，可以使用 Jets 轻松完成：</li></ul><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-jets-arch.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-jets-arch.png, /images/2021-01-18-ruby-and-serverless/ruby-jets-arch.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-jets-arch.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-jets-arch.png title=ruby-jets-arch></p><p>此外，Jets 的文档特别丰富，上手成本也低，对于 Ruby 开发者来说，绝对值得一试。</p><h2 id=哪些-serverless-faas-平台支持-ruby>哪些 Serverless Faas 平台支持 Ruby？</h2><p>平心而论，Ruby 是一门小众的编程语言，尤其是在国内，日常工作中很少用到。</p><p>据统计，Serverless Faas 最常用的语言是 NodeJS，其次是 Python，Ruby 用的少。</p><p>有哪些公有云 Serverless Faas 平台支持 Ruby 语言呢？</p><p>公有云 Serverless Faas 平台一般不会支持所有语言，但是它们大多支持 Custom Runtime（自定义语言）。</p><p>对于官方不支持的语言，就可以通过 Custom Runtime 来实现。</p><p>下面对各个公有云 Serverless Faas 平台支持的语言做一个梳理。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-faas.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-faas.png, /images/2021-01-18-ruby-and-serverless/ruby-faas.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-faas.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-faas.png title=ruby-faas></p><p>从上面的图表可以看出，上述 Faas 平台中 AWS Lambda 和 IBM Cloud Functions 官方提供了对 Ruby 的支持。</p><p>其中，在2018年11月29日，AWS Lambda 正式支持了 Ruby 2.5；2020年2月19日，支持了 Ruby 2.7。</p><p>这里还有一个 关于 Ruby 与 Serverless 的故事：在 AWS Lambda 未支持 Ruby 之前，Ruby 社区曾于2018年3月9日在 serverless-ruby.org 发布了一个请愿书，请求 Faas 平台支持 Ruby，共有1602个开发者签署了这个请愿书。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-want.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-want.png, /images/2021-01-18-ruby-and-serverless/ruby-want.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-want.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-want.png title=ruby-want></p><p>在 GitHub awslabs 组织的仓库中，有三个与 AWS Lambda Custom Runtime 相关的仓库，分别提供了对 Rust、C++ 和 Dart 的支持：</p><ul><li><a href=https://github.com/awslabs/aws-lambda-rust-runtime>https://github.com/awslabs/aws-lambda-rust-runtime</a></li><li><a href=https://github.com/awslabs/aws-lambda-cpp>https://github.com/awslabs/aws-lambda-cpp</a></li><li><a href=https://github.com/awslabs/aws-lambda-dart-runtime>https://github.com/awslabs/aws-lambda-dart-runtime</a></li></ul><p>关于 Azure Functions 对 Ruby 的支持，开发者在 GitHub 的 Azure-Functions 仓库提交了一个相关 issue：</p><p>Ruby lang. support #705 <a href=https://github.com/Azure/Azure-Functions/issues/705>https://github.com/Azure/Azure-Functions/issues/705</a></p><p>或许不久的将来，将会看到基于 Custom Runtime 对 Ruby 的支持。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-azure.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-azure.png, /images/2021-01-18-ruby-and-serverless/ruby-azure.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-azure.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-azure.png title=ruby-azure></p><p>IBM Cloud Functions 基于 Apache OpenWhisk 搭建的，它是支持 Ruby 的。
除了官方支持的语言，它还支持使用 Docker 自定义运行环境。</p><p>腾讯云云函数 SCF，在官网上有一个关于 Custom Runtime 的示例：</p><p>Custom Runtime 创建 Bash 示例函数：https://cloud.tencent.com/document/product/583/47610</p><p>在 GitHub 上有两个开发者实现的 Custom Runtime 仓库，分别提供了对 Swift 和 .NET 的支持：</p><ul><li><a href=https://github.com/stevapple/swift-tencent-scf-runtime>https://github.com/stevapple/swift-tencent-scf-runtime</a></li><li><a href=https://github.com/dotnetcloudbase/dotnet-tencent-scf-runtime>https://github.com/dotnetcloudbase/dotnet-tencent-scf-runtime</a></li></ul><p>目前没有在 GitHub 上找到关于 Ruby 的实现。</p><p>阿里云函数计算在官方文档中列出了一些基于 Custom Runtime 实现的语言（其中包含 Ruby）。</p><p>并且关于 Custom Runtime，阿里云函数计算有一个相关的 git 仓库：
<a href=https://github.com/awesome-fc/fc-custom-demo/>https://github.com/awesome-fc/fc-custom-demo/</a></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021-01-18-ruby-and-serverless/ruby-aliyun.png data-srcset="/images/2021-01-18-ruby-and-serverless/ruby-aliyun.png, /images/2021-01-18-ruby-and-serverless/ruby-aliyun.png 1.5x, /images/2021-01-18-ruby-and-serverless/ruby-aliyun.png 2x" data-sizes=auto alt=/images/2021-01-18-ruby-and-serverless/ruby-aliyun.png title=ruby-aliyun></p><p>除了公有云的 Serverless Faas 平台，一些开源的 Faas 平台也提供了对 Ruby 的支持，如：Apache OpenWhisk、Kubeless、OpenFaas、Fission 等。</p><h2 id=总结>总结</h2><p>本文首先介绍了 Ruby 以及使用 Ruby 构建的流行项目，紧接着介绍了 Ruby Serverless 框架——Jets，最后主要阐述了 Serverless Faas 平台对 Ruby 的支持情况，相信未来会有更多的 Faas 平台支持 Ruby。</p><h2 id=参考>参考</h2><ul><li><a href=https://github.com/boltops-tools/jets>https://github.com/boltops-tools/jets</a></li><li><a href=http://www.ruby-lang.org/zh_cn/news/2020/12/25/ruby-3-0-0-released/>http://www.ruby-lang.org/zh_cn/news/2020/12/25/ruby-3-0-0-released/</a></li><li><a href=https://github.com/markets/awesome-ruby>https://github.com/markets/awesome-ruby</a></li><li><a href=https://docs.aws.amazon.com/lambda/latest/dg/runtime-support-policy.html>https://docs.aws.amazon.com/lambda/latest/dg/runtime-support-policy.html</a></li><li><a href=https://docs.aws.amazon.com/lambda/latest/dg/lambda-releases.html>https://docs.aws.amazon.com/lambda/latest/dg/lambda-releases.html</a></li><li><a href="https://cloud.ibm.com/docs/openwhisk?topic=openwhisk-runtimes">https://cloud.ibm.com/docs/openwhisk?topic=openwhisk-runtimes</a></li><li><a href=https://docs.microsoft.com/zh-cn/azure/azure-functions/supported-languages>https://docs.microsoft.com/zh-cn/azure/azure-functions/supported-languages</a></li><li><a href=https://cloud.google.com/functions/docs/writing/>https://cloud.google.com/functions/docs/writing/</a></li><li><a href=https://cloud.tencent.com/document/product/583/9206>https://cloud.tencent.com/document/product/583/9206</a></li><li><a href=https://help.aliyun.com/document_detail/74712.html>https://help.aliyun.com/document_detail/74712.html</a></li><li><a href=https://cloud.baidu.com/doc/CFC/s/0k0rw0397#%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80>https://cloud.baidu.com/doc/CFC/s/0k0rw0397#%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80</a></li><li><a href=https://support.huaweicloud.com/devg-functiongraph/functiongraph_02_0101.html>https://support.huaweicloud.com/devg-functiongraph/functiongraph_02_0101.html</a></li><li><a href=https://www.serverless-ruby.org/>https://www.serverless-ruby.org/</a></li><li><a href=https://github.com/apache/openwhisk-runtime-ruby>https://github.com/apache/openwhisk-runtime-ruby</a></li><li><a href=https://kubeless.io/docs/runtimes/>https://kubeless.io/docs/runtimes/</a></li><li><a href=https://docs.openfaas.com/cli/templates/#ruby>https://docs.openfaas.com/cli/templates/#ruby</a></li><li><a href=https://github.com/fission/environments>https://github.com/fission/environments</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2021-01-18</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/ruby/>ruby</a>,&nbsp;<a href=/tags/serverless/>serverless</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/2021-01-11-use-vpc-or-not/ class=prev rel=prev title="在函数计算中到底该不该使用 VPC？"><i class="fas fa-angle-left fa-fw"></i>在函数计算中到底该不该使用 VPC？</a>
<a href=/posts/2021-01-26-the-pros-and-cons-of-azure-functions/ class=next rel=next title="Azure Functions 的优势与挑战">Azure Functions 的优势与挑战<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.79.1">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank></a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a rel=icp备案号 href=https://beian.miit.gov.cn/ target=_blank>京ICP备2021004254号</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>